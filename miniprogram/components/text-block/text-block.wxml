<!--
  Text Block - æ–‡æœ¬å—ç»„ä»¶
  å¤ç”¨åŸæœ‰è´´å£«æ ·å¼ï¼Œæ”¯æŒç‚¹å‡»åˆ‡æ¢ç¼–è¾‘æ¨¡å¼
-->
<view class="text-block {{styleClass}} {{isEditing ? 'editing' : ''}} {{editMode ? 'edit-mode' : ''}}">
  <!-- åˆ é™¤æŒ‰é’® (ä»…ç¼–è¾‘æ¨¡å¼å¯è§) -->
  <view class="delete-btn" wx:if="{{editMode}}" catchtap="onDeleteTap">
    <text class="delete-icon">Ã—</text>
  </view>

  <!-- æ ·å¼å›¾æ ‡ -->
  <view class="style-icon" wx:if="{{block.content.style !== 'normal'}}">
    <text wx:if="{{block.content.style === 'tip'}}">ğŸ’¡</text>
    <text wx:elif="{{block.content.style === 'warning'}}">âš ï¸</text>
  </view>

  <!-- ç¼–è¾‘æ¨¡å¼: textarea -->
  <textarea
    wx:if="{{isEditing}}"
    class="text-input"
    auto-height
    focus="{{isEditing}}"
    maxlength="500"
    placeholder="è¾“å…¥æ–‡æœ¬å†…å®¹..."
    value="{{block.content.text}}"
    bindinput="onInput"
    bindblur="onBlur"
    bindconfirm="onConfirm"
  />

  <!-- é¢„è§ˆæ¨¡å¼: ç‚¹å‡»è¿›å…¥ç¼–è¾‘ -->
  <view wx:else class="text-content" bindtap="onTap">
    <text class="text-value">{{block.content.text || 'ç‚¹å‡»æ·»åŠ æ–‡æœ¬...'}}</text>
    <text class="edit-hint" wx:if="{{editMode}}">ç‚¹å‡»ç¼–è¾‘</text>
  </view>
</view>

