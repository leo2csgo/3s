<!--
  Text Block - æ–‡æœ¬å—ç»„ä»¶
  å¤ç”¨åŸæœ‰è´´å£«æ ·å¼ï¼Œæ”¯æŒç‚¹å‡»åˆ‡æ¢ç¼–è¾‘æ¨¡å¼
-->
<view class="text-block {{styleClass}} {{isEditing ? 'editing' : ''}} {{editMode ? 'edit-mode' : ''}}">
  <!-- åˆ é™¤æŒ‰é’® (ä»…ç¼–è¾‘æ¨¡å¼å¯è§) -->
  <view class="delete-btn" wx:if="{{editMode}}" catchtap="onDeleteTap">
    <text class="delete-icon">Ã—</text>
  </view>

  <!-- ç¼–è¾‘æ¨¡å¼: å›¾æ ‡ + è¾“å…¥åœ¨åŒä¸€è¡Œ -->
  <view class="text-main" wx:if="{{isEditing}}">
    <view class="style-icon" wx:if="{{block.content.style !== 'normal'}}">
      <text wx:if="{{block.content.style === 'tip'}}">ğŸ’¡</text>
      <text wx:elif="{{block.content.style === 'warning'}}">âš ï¸</text>
    </view>
    <textarea
      class="text-input"
      auto-height
      focus="{{isEditing}}"
      maxlength="500"
      placeholder="è¾“å…¥æ–‡æœ¬å†…å®¹..."
      value="{{block.content.text}}"
      bindinput="onInput"
      bindblur="onBlur"
      bindconfirm="onConfirm"
    />
  </view>

  <!-- é¢„è§ˆæ¨¡å¼: å›¾æ ‡ + æ–‡æœ¬åœ¨åŒä¸€è¡Œï¼Œç‚¹å‡»è¿›å…¥ç¼–è¾‘ -->
  <view class="text-main" wx:else bindtap="onTap">
    <view class="style-icon" wx:if="{{block.content.style !== 'normal'}}">
      <text wx:if="{{block.content.style === 'tip'}}">ğŸ’¡</text>
      <text wx:elif="{{block.content.style === 'warning'}}">âš ï¸</text>
    </view>
    <view class="text-content">
      <text class="text-value">{{block.content.text || 'ç‚¹å‡»æ·»åŠ æ–‡æœ¬...'}}</text>
      <text class="edit-hint" wx:if="{{editMode}}">ç‚¹å‡»ç¼–è¾‘</text>
    </view>
  </view>
</view>

