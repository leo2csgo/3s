<!--
  POI Block - åœ°ç‚¹å—ç»„ä»¶
  å¤ç”¨åŸæœ‰çš„æ¯›ç»ç’ƒæ´»åŠ¨å¡ç‰‡æ ·å¼
-->
<view class="poi-block {{editMode ? 'edit-mode' : ''}}">
  <!-- åˆ é™¤æŒ‰é’® (ä»…ç¼–è¾‘æ¨¡å¼å¯è§) -->
  <view class="delete-btn" wx:if="{{editMode}}" catchtap="onDeleteTap">
    <text class="delete-icon">Ã—</text>
  </view>

  <!-- æ—¶é—´å’Œè´¹ç”¨è¡Œ -->
  <view class="time-row">
    <text class="time-tag">{{block.content.startTime || 'å…¨å¤©'}}</text>
    <view class="cost-tag" wx:if="{{block.content.cost > 0}}">
      ğŸ’° Â¥{{block.content.cost}}
    </view>
  </view>

  <!-- ä¸»å†…å®¹åŒº -->
  <view class="main-content">
    <!-- åç§°å’Œå¯¼èˆªæŒ‰é’® -->
    <view class="name-row">
      <text class="poi-name">{{block.content.name}}</text>
      <view class="nav-btn" bindtap="onNavTap">
        <view class="nav-icon-bg">
          <text class="nav-icon">â†—</text>
        </view>
        <text class="nav-text">å»è¿™é‡Œ</text>
      </view>
    </view>

    <!-- æè¿°/åœ°å€ (å¯ç¼–è¾‘) -->
    <view class="desc-wrapper">
      <textarea
        wx:if="{{editMode}}"
        class="desc-input"
        auto-height
        maxlength="200"
        placeholder="ç‚¹å‡»ç¼–è¾‘æ´»åŠ¨æè¿°..."
        value="{{block.content.description || block.content.address}}"
        bindinput="onDescInput"
        bindblur="onDescBlur"
      />
      <text wx:else class="desc-text">{{block.content.description || block.content.address || 'æš‚æ— æè¿°'}}</text>
    </view>

    <!-- æ—¶é•¿ -->
    <view class="duration-row" wx:if="{{block.content.duration}}">
      <text class="duration-text">â± {{formattedDuration}}</text>
    </view>

    <!-- æ ‡ç­¾ -->
    <view class="tags-row" wx:if="{{block.content.tags && block.content.tags.length > 0}}">
      <text class="tag" wx:for="{{block.content.tags}}" wx:key="*this">{{item}}</text>
    </view>
  </view>
</view>

